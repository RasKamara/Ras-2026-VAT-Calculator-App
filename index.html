<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAS 2026 VAT Calculator</title>

<!-- jsPDF CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{font-family:Segoe UI,Arial,sans-serif;background:#f4f4f4;margin:0}
.dark-mode{background:#121212;color:#e6e6e6}
.app-container{max-width:480px;margin:20px auto;background:#fff;padding:22px;border-radius:22px;box-shadow:0 8px 22px rgba(0,0,0,.1)}
.dark-mode .app-container{background:#1f1f1f}
h1{text-align:center;color:#007bff;margin-bottom:5px}
h6{text-align:center;color:#555;margin-top:0}
.dark-mode h6{color:#bbb}
label{font-weight:600;margin-top:12px;display:block}
input,button{width:100%;padding:12px;margin-top:6px;border-radius:12px;border:1px solid #bbb;font-size:1rem}
input[readonly]{background:#eef6ff;font-weight:bold}
.dark-mode input[readonly]{background:#1b2a3a;color:#fff}
button{background:#007bff;color:#fff;border:none;cursor:pointer}
button:hover{background:#7f00ff}
.toggle-buttons{display:flex;gap:5px;margin:15px 0}
.toggle-button{flex:1;font-weight:bold}
.toggle-button.active{background:#7f00ff}
.tab-container{display:none}
.tab-container.active{display:block}
.result-highlight{border:2px solid #007bff}
</style>
</head>
<body>

<button onclick="toggleDarkMode()" style="margin:10px">Toggle Dark Mode</button>

<div class="app-container">
<h1>RAS 2026 VAT CALCULATOR</h1>
<h6>Ghana VAT • NHIL • GETFund</h6>

<div class="toggle-buttons">
    <button class="toggle-button active" onclick="showApp(0)">Cost</button>
    <button class="toggle-button" onclick="showApp(1)">VAT Inclusive</button>
    <button class="toggle-button" onclick="showApp(2)">Flat Rate</button>
</div>

<!-- APP 1 -->
<div id="app1" class="tab-container active">
<label>Cost</label>
<input type="number" id="cost">

<button onclick="calculate1()">Calculate</button>
<button onclick="reset('app1')">Reset</button>

<label>NHIL (2.5%)</label><input id="nh" readonly>
<label>GETFund (2.5%)</label><input id="gf" readonly>
<label>VAT (15%)</label><input id="v" readonly>
<label>Total Levies</label><input id="t1" readonly class="result-highlight">
<label>VAT Inclusive</label><input id="vi" readonly>

<button onclick="exportPDF('Standard Rate')">Export PDF</button>
</div>

<!-- APP 2 -->
<div id="app2" class="tab-container">
<label>VAT Inclusive</label>
<input type="number" id="vi2">

<button onclick="calculate2()">Calculate</button>
<button onclick="reset('app2')">Reset</button>

<label>NHIL</label><input id="nh2" readonly>
<label>GETFund</label><input id="gf2" readonly>
<label>VAT</label><input id="v2" readonly>
<label>Total Levies</label><input id="t2" readonly class="result-highlight">
<label>Cost</label><input id="c2" readonly>

<button onclick="exportPDF('VAT Inclusive')">Export PDF</button>
</div>

<!-- APP 3 -->
<div id="app3" class="tab-container">
<label>Cost</label>
<input type="number" id="c3">

<button onclick="calculate3()">Calculate</button>
<button onclick="reset('app3')">Reset</button>

<label>VAT (3%)</label><input id="v3" readonly>
<label>VAT Inclusive</label><input id="vi3" readonly>

<button onclick="exportPDF('Flat Rate Scheme')">Export PDF</button>
</div>
</div>

<script>
const fmt = n => Number(n||0).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});

function toggleDarkMode(){document.body.classList.toggle("dark-mode")}
function showApp(i){
["app1","app2","app3"].forEach((id,x)=>{
document.getElementById(id).classList.toggle("active",x===i)
document.querySelectorAll(".toggle-button")[x].classList.toggle("active",x===i)
})
}
function reset(id){document.querySelectorAll("#"+id+" input").forEach(i=>i.value="")}

function calculate1(){
const c = +document.getElementById("cost").value
const nhil = 0.025*c, gflev = 0.025*c, vat = 0.15*c
document.getElementById("nh").value = fmt(nhil)
document.getElementById("gf").value = fmt(gflev)
document.getElementById("v").value = fmt(vat)
document.getElementById("t1").value = fmt(nhil+gflev+vat)
document.getElementById("vi").value = fmt(c+nhil+gflev+vat)
}

function calculate2(){
const viVal = +document.getElementById("vi2").value
const c = viVal / 1.2
document.getElementById("nh2").value = fmt(0.025*c)
document.getElementById("gf2").value = fmt(0.025*c)
document.getElementById("v2").value = fmt(0.15*c)
document.getElementById("t2").value = fmt(0.2*c)
document.getElementById("c2").value = fmt(c)
}

function calculate3(){
const c = +document.getElementById("c3").value
document.getElementById("v3").value = fmt(0.03*c)
document.getElementById("vi3").value = fmt(c*1.03)
}

function fillSummary(type){
window.summary = {
type: type,
date: new Date().toLocaleString(),
cost: document.getElementById("cost").value || document.getElementById("c2").value || document.getElementById("c3").value || "—",
nh: document.getElementById("nh").value || document.getElementById("nh2").value || "—",
gf: document.getElementById("gf").value || document.getElementById("gf2").value || "—",
vat: document.getElementById("v").value || document.getElementById("v2").value || document.getElementById("v3").value || "—",
total: document.getElementById("t1").value || document.getElementById("t2").value || "—",
vi: document.getElementById("vi").value || document.getElementById("vi2").value || document.getElementById("vi3").value || "—"
}
}

function exportPDF(type){
fillSummary(type)
const { jsPDF } = window.jspdf
const pdf = new jsPDF()

pdf.setFont("helvetica","bold")
pdf.setFontSize(18)
pdf.text("RAS 2026 VAT TRANSACTION SUMMARY", 20, 20)
pdf.setFontSize(12)
pdf.setFont("helvetica","normal")
pdf.text("Business/Platform Name: ______________________", 20, 28)
pdf.text("Date: " + summary.date, 20, 36)
pdf.text("Transaction Type: " + summary.type, 20, 44)

// Table headers
const startY = 52
const rowHeight = 10
const colX = [20, 120]
const fields = [
["Cost", summary.cost],
["NHIL", summary.nh],
["GETFund", summary.gf],
["VAT", summary.vat],
["Total Levies", summary.total],
["VAT Inclusive", summary.vi]
]

fields.forEach((f,i)=>{
  const y = startY + i*rowHeight
  pdf.rect(colX[0]-2, y-7, 170, rowHeight)
  pdf.text(f[0], colX[0], y)
  pdf.text(f[1], colX[1], y)
})

pdf.setFontSize(10)
pdf.text("Generated by RAS 2026 VAT Calculator", 20, startY + fields.length*rowHeight + 8)
pdf.save("VAT_Summary_2026.pdf")
}
</script>

</body>
</html>
